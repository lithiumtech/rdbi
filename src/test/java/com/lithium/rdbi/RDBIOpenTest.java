package com.lithium.rdbi;


import org.testng.annotations.Test;
import redis.clients.jedis.exceptions.JedisException;

public class RDBIOpenTest {

    static interface TestDAO {
        @Query("doesn't matter")
        public int doesntMatter();
    }

    @Test(expectedExceptions = JedisException.class)
    public void testOpenThrow() {
        RDBI rdbi = new RDBI(RDBITest.getBadJedisPool());
        rdbi.open().attach(TestDAO.class);
    }

    @Test(expectedExceptions = Exception.class)
    public void testOpenThrowRuntimeException() {
        RDBI rdbi = new RDBI(RDBITest.getBadJedisPoolWithRuntimeException());
        rdbi.open().attach(TestDAO.class);
    }
}
