package com.lithium.dbi.rdbi;


import org.testng.annotations.Test;
import redis.clients.jedis.exceptions.JedisException;

public class RDBIOpenTest {

    interface TestDAO {
        @Query("doesn't matter")
        int doesntMatter();
    }

    @Test(expectedExceptions = JedisException.class)
    public void testOpenThrow() {
        RDBI rdbi = new RDBI(RDBITest.getBadJedisPool());
        rdbi.open().attach(TestDAO.class);
    }

    @Test(expectedExceptions = RuntimeException.class)
    public void testOpenThrowRuntimeException() {
        RDBI rdbi = new RDBI(RDBITest.getBadJedisPoolWithRuntimeException());
        rdbi.open().attach(TestDAO.class);
    }
}
